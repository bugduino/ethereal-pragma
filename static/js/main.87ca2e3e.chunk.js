(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{346:function(e,t,n){},351:function(e,t,n){e.exports={header:"Landing_header__LezRB"}},353:function(e,t,n){e.exports=n(943)},358:function(e,t,n){},372:function(e,t){},374:function(e,t){},478:function(e,t){},548:function(e,t){},888:function(e,t){},940:function(e,t,n){},943:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(128),c=n.n(r),s=(n(358),n(5)),i=n(6),l=n(8),u=n(7),d=n(9),p=n(2),m=n(72),f=n.n(m),b=n(42),h=n.n(b),y=n(346),g=n.n(y),w={fontSizes:[12,14,16,20,24,32,48,64],fontWeights:[0,300,400,600,700],lineHeights:{solid:1,title:1.25,copy:1.5},fonts:{serif:"athelas, georgia, times, serif",sansSerif:'"Source Sans Pro", -apple-system, sans-serif'},space:[0,4,8,16,32,64,128,256],radii:["0","4px","8px","16px"],width:[0,16,32,64,128,256],minWidths:[0,16,32,64,128,256],maxWidths:[0,16,32,64,128,256,512,768,1024,1536],heights:[0,16,32,64,128,256],minHeights:[0,16,32,64,128,256],maxHeights:[0,16,32,64,128,256],borders:[0,"1px solid"],shadows:["0","0px 2px 4px rgba(0, 0, 0, 0.1)","0 7px 14px rgba(50,50,93,.1)"],opacity:{disabled:.4},colors:{primary:"#4E3FCE",blue:"#007ce0",navy:"#004175",copyColor:"#3F3D4B",black:"#000e1a","near-black":"#111","dark-gray":"#333","mid-gray":"#555",grey:"#CCC",silver:"#999","light-silver":"#aaa","moon-gray":"#ccc","light-gray":"#eee","near-white":"#f4f4f4",white:"#fff",transparent:"transparent",blacks:["rgba(0,0,0,.0125)","rgba(0,0,0,.025)","rgba(0,0,0,.05)","rgba(0,0,0,.1)","rgba(0,0,0,.2)","rgba(0,0,0,.3)","rgba(0,0,0,.4)","rgba(0,0,0,.5)","rgba(0,0,0,.6)","rgba(0,0,0,.7)","rgba(0,0,0,.8)","rgba(0,0,0,.9)"],whites:["rgba(255,255,255,.0125)","rgba(255,255,255,.025)","rgba(255,255,255,.05)","rgba(255,255,255,.1)","rgba(255,255,255,.2)","rgba(255,255,255,.3)","rgba(255,255,255,.4)","rgba(255,255,255,.5)","rgba(255,255,255,.6)","rgba(255,255,255,.7)","rgba(255,255,255,.8)","rgba(255,255,255,.9)"]}},x=n(130),E=n(14),k=n(3),C=n.n(k),v=n(17),O=n(347),j=n.n(O),M=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return o.a.createElement(p.Modal,{isOpen:this.props.isOpen},o.a.createElement(p.Card,{p:5,maxWidth:"600px"},o.a.createElement(p.TextButton,{icononly:!0,icon:"Close",color:"moon-gray",position:"absolute",top:0,right:0,mt:3,mr:3,onClick:this.props.closeModal}),o.a.createElement(p.Flex,{flexDirection:"column",justifyContent:"space-between"},o.a.createElement(p.Flex,{justifyContent:"center",my:4},o.a.createElement(p.Icon,{name:"Warning",color:"gold",size:"40"})),o.a.createElement(p.Heading.h2,{my:3},"Not a Web3 Browser"),o.a.createElement(p.Text,{my:4},"Your current browser does not support interacting with blockchain. Try using Chrome."),o.a.createElement(p.Link,{href:"https://www.google.com/chrome/browser/",target:"_blank"},o.a.createElement(p.OutlineButton,{size:"small"},"Download Chrome")))))}}]),t}(o.a.Component),B=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return o.a.createElement(p.Modal,{isOpen:this.props.isOpen},o.a.createElement(p.Card,{p:5,maxWidth:"600px"},o.a.createElement(p.TextButton,{icononly:!0,icon:"Close",color:"moon-gray",position:"absolute",top:0,right:0,mt:3,mr:3,onClick:this.props.closeModal}),o.a.createElement(p.Flex,{flexDirection:"column",justifyContent:"space-between"},o.a.createElement(p.Flex,{justifyContent:"center",my:4},o.a.createElement(p.Icon,{name:"Warning",color:"gold",size:"40"})),o.a.createElement(p.Heading.h2,{my:3},"No Wallet Available"),o.a.createElement(p.Text,{my:4},"Your current browser does not have a blockchain connected wallet. Try using MetaMask or Fortmatic."),o.a.createElement(p.Link,{href:"https://chrome.google.com/webstore/detail/metamask/nkbihfbeogaeaoehlefnkodbefgpgknn?hl=en",target:"_blank"},o.a.createElement(p.OutlineButton,{size:"small"},"Get MetaMask Extension")))))}}]),t}(o.a.Component),T=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return o.a.createElement(p.Modal,{isOpen:this.props.isOpen},o.a.createElement(p.Card,{p:5,maxWidth:"600px"},o.a.createElement(p.TextButton,{icononly:!0,icon:"Close",color:"moon-gray",position:"absolute",top:0,right:0,mt:3,mr:3,onClick:this.props.closeModal}),o.a.createElement(p.Flex,{flexDirection:"column",justifyContent:"space-between"},o.a.createElement(p.Flex,{justifyContent:"center",my:4},o.a.createElement(p.Icon,{name:"Warning",color:"gold",size:"40"})),o.a.createElement(p.Heading.h2,{my:3},"Wrong Network"),o.a.createElement(p.Text,{my:4},"Looks like your account is connected to the"," ",o.a.createElement(p.Text.span,{style:{textTransform:"capitalize"}},this.props.network.current.name)," ","network. Switch to the"," ",this.props.network.required.name," network."),o.a.createElement(p.ToastMessage,{message:"Waiting for the right network...",icon:"InfoOutline"}))))}}]),t}(o.a.Component),A=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).getNetworkCircleColor=function(){var e="#333";if(n.props.network)switch(n.props.network.id){case 1:e="#56b3ae";break;case 2:e="#000";break;case 3:e="#ed5a8d";break;case 4:e="#efc35c";break;case 42:e="#6a5ff6";break;default:e="#ccc"}return e},n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e={borderRadius:"50%",backgroundColor:this.getNetworkCircleColor(),height:"1em",width:"1em"};return o.a.createElement(p.Flex,{alignItems:"center"},o.a.createElement(p.Box,{style:e,mr:2}),o.a.createElement(p.Text,{style:{textTransform:"capitalize"}},this.props.network.name))}}]),t}(o.a.Component),I=n(348),F=n.n(I),N=n(349),W=n.n(N),R=b.Connectors.InjectedConnector,S=b.Connectors.TrezorConnector,P=b.Connectors.LedgerConnector,L=b.Connectors.FortmaticConnector,V={1:"https://mainnet.infura.io/v3/db0b7b205b5a4889bd6ba73641c3fd6f",4:"https://rinkeby.infura.io/v3/db0b7b205b5a4889bd6ba73641c3fd6f"},z=new R({supportedNetworks:[1,4]}),U=new S({api:F.a,supportedNetworkURLs:V,defaultNetwork:4,manifestEmail:"onlyforwin@gmail.com",manifestAppUrl:"https://bugduino.github.io/ethereal-pragma/"}),D=new P({supportedNetworkURLs:V,defaultNetwork:4}),H={Injected:z,Fortmatic:new L({api:W.a,apiKey:"pk_test_6CBB8EC810236997",logoutOnDeactivation:!1}),Trezor:U,Ledger:D};function q(e){var t=Object(b.useWeb3Context)();t.active||t.error?t.error?console.log("context error",t):console.log("context success",t):console.log("context loading",t);var n=function(){var e=Object(v.a)(C.a.mark(function e(n){return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.setConnector(n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a=Object.keys(H).map(function(e){switch(e){case"Injected":return o.a.createElement(p.MetaMaskButton.outline,{mb:3,fullWidth:!0,key:e,disabled:t.connectorName===e,size:"large",onClick:Object(v.a)(C.a.mark(function t(){return C.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n(e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t)}))},"Connect with MetaMask");default:return o.a.createElement(p.OutlineButton,{fullWidth:!0,mb:3,size:"large",key:e,disabled:t.connectorName===e,onClick:Object(v.a)(C.a.mark(function t(){return C.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n(e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t)}))},o.a.createElement(p.Image,{display:"inline-block",mr:"0.5rem",src:"images/".concat(e.toLowerCase(),".svg"),alt:"fortmatic",width:"1em",height:"1em"}),"Connect with ",e)}});return o.a.createElement("div",null,t.error&&o.a.createElement("p",null,"An error occurred, check the console for details."),a,o.a.createElement("br",null),(t.active||t.error&&t.connectorName)&&o.a.createElement(p.OutlineButton,{onClick:Object(v.a)(C.a.mark(function e(){return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.unsetConnector();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}))},t.active?"Deactivate Connector":"Reset"))}var _=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return o.a.createElement(p.Modal,{isOpen:this.props.isOpen},o.a.createElement(p.Card,{p:5,maxWidth:"960px"},o.a.createElement(p.TextButton,{icononly:!0,icon:"Close",color:"moon-gray",position:"absolute",top:0,right:0,mt:3,mr:3,onClick:this.props.closeModal}),o.a.createElement(p.Flex,{justifyContent:"center",alignContent:"stretch"},o.a.createElement(p.Box,{width:"400px",flex:"1 1 auto"},o.a.createElement(p.Flex,{flexDirection:"column",alignContent:"center"},o.a.createElement(p.Box,null,o.a.createElement(p.Text,{color:w.colors.primary,caps:!0},"Current Network"),o.a.createElement(A,{network:this.props.currentNetwork})),o.a.createElement(p.Box,{my:4},o.a.createElement(p.Text,{color:w.colors.primary,caps:!0},"New to Pragma?"),o.a.createElement(p.Text,{fontWeight:3,mt:3,mb:2},"What is connecting?"),o.a.createElement(p.Text,null,"Connecting lets you use Pragma"),o.a.createElement(p.Text,null,"Explore through your Ethereum account (the long cod that starts with 0x).")),o.a.createElement(p.Text,{fontWeight:3},"You need to be connected to:"),o.a.createElement("ul",null,o.a.createElement("li",null,"Lend ETH/ERC20 tokens"),o.a.createElement("li",null,"Get ETH/ERC20 tokens plus interest back")))),o.a.createElement(p.Flex,{borderRight:1,borderColor:"#999",mx:3},o.a.createElement(p.Text,null)),o.a.createElement(p.Flex,{flexDirection:"column",justifyContent:"space-between",p:3,flexShrink:"1"},o.a.createElement(p.Flex,{justifyContent:"center",my:4},o.a.createElement(p.Icon,{name:"Link",color:"#666",size:"40"})),o.a.createElement(p.Heading.h2,null,"How would you like to connect?"),o.a.createElement(p.Text,{my:3},"Make sure you've set up MetaMask or your mobile wallet before you continue."),o.a.createElement(q,null),o.a.createElement(p.Flex,{mt:3,mx:4,alignItems:"center"},o.a.createElement(p.Box,{mr:3},o.a.createElement(p.Image,{src:"images/phone.png",alt:"mobile phone",width:"60px",height:"92px"})),o.a.createElement(p.Flex,{flexDirection:"column"},o.a.createElement(p.Text,{fontWeight:3,mb:2},"Connect with a mobile app"),o.a.createElement(p.Text,null,"You can connect from mobile browser wallets like Cipher, Status or Coinbase wallet.")))))))}}]),t}(o.a.Component),Y=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return o.a.createElement(p.Modal,{isOpen:this.props.isOpen},o.a.createElement(p.Card,{p:5,maxWidth:"960px"},o.a.createElement(p.TextButton,{icononly:!0,icon:"Close",color:"moon-gray",position:"absolute",top:0,right:0,mt:3,mr:3,onClick:this.props.closeModal}),o.a.createElement(p.Flex,{justifyContent:"center",alignContent:"stretch"},o.a.createElement(p.Box,{width:"400px",flex:"1 1 auto"},o.a.createElement(p.Flex,{flexDirection:"column",alignContent:"center"},o.a.createElement(p.Box,null,o.a.createElement(p.Text,{color:w.colors.primary,caps:!0},"Current Network"),o.a.createElement(A,{network:this.props.currentNetwork})),o.a.createElement(p.Box,{my:4},o.a.createElement(p.Text,{color:w.colors.primary,caps:!0},"New to Pragma?"),o.a.createElement(p.Text,null,"You need to be connected so you can use the funds stored in your Ethereum account."),o.a.createElement(p.Text,null,"Every blockchain action requires a small network fee.")),o.a.createElement(p.Text,{fontWeight:3},"What's a network fee?"),o.a.createElement(p.Text,null,"This fee pays for a person or group to add a record of your action to the blockchain and let the network know. It doesn't go to us."))),o.a.createElement(p.Flex,{borderRight:1,borderColor:"#999",mx:3},o.a.createElement(p.Text,null)),o.a.createElement(p.Flex,{flexDirection:"column",p:3},o.a.createElement(p.Flex,{justifyContent:"center",my:4},o.a.createElement(p.Icon,{name:"Link",color:"#666",size:"40"})),o.a.createElement(p.Heading.h2,null,"Connect to continue"),o.a.createElement(p.Text,{mb:4},"This action uses the blockchain, so you'll need to connect your Ethereum account to continue. That's the long code starting with"," ",o.a.createElement(p.Text.span,{fontWeight:3},"0x"),"."),o.a.createElement(q,null)))))}}]),t}(o.a.Component),Q=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return o.a.createElement(p.Modal,{isOpen:this.props.isOpen},o.a.createElement(p.Card,{p:5,maxWidth:"960px"},o.a.createElement(p.TextButton,{icononly:!0,icon:"Close",color:"moon-gray",position:"absolute",top:0,right:0,mt:3,mr:3,onClick:this.props.closeModal}),o.a.createElement(p.Flex,{justifyContent:"center",alignContent:"stretch"},o.a.createElement(p.Box,{width:"400px",flex:"1 1 auto"},o.a.createElement(p.Flex,{flexDirection:"column",alignContent:"center"},o.a.createElement(p.Box,null,o.a.createElement(p.Text,{color:w.colors.primary,caps:!0},"Current Network"),o.a.createElement(A,{network:this.props.currentNetwork})),o.a.createElement(p.Box,{my:4},o.a.createElement(p.Text,{color:w.colors.primary,caps:!0},"New to Pragma?"),o.a.createElement(p.Text,null,"It's possible to use your account's address to see all your blockchain activity. Only connect accounts you don't mind being linked to your Pragma profile.")),o.a.createElement(p.Text,{fontWeight:3},"What does connection mean?"),o.a.createElement("ul",null,o.a.createElement("li",null,"Shares your Ethereum account address with us"),o.a.createElement("li",null,"Allows us to start transactions on the blockchain (at your request)")))),o.a.createElement(p.Flex,{borderRight:1,borderColor:"#999",mx:3},o.a.createElement(p.Text,null)),o.a.createElement(p.Flex,{flexDirection:"column",p:3},o.a.createElement(p.Flex,{justifyContent:"center",my:4},o.a.createElement(p.Icon,{name:"Link",color:"#666",size:"40"})),o.a.createElement(p.Heading.h2,null,"Connect your account"),o.a.createElement(p.Text,{mb:4},"A connection request should automatically appear. If not, open it using the MetaMask extension icon in your browser."),o.a.createElement(p.ToastMessage,{message:"Waiting for connection confirmation...",secondaryMessage:"This won't cost your any Ether",icon:"InfoOutline"})))))}}]),t}(o.a.Component),G=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).sendMessageAgain=function(e){n.props.closeModal(),n.props.initAccount()},n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return o.a.createElement(p.Modal,{isOpen:this.props.isOpen},o.a.createElement(p.Card,{p:5,maxWidth:"600px"},o.a.createElement(p.TextButton,{icononly:!0,icon:"Close",color:"moon-gray",position:"absolute",top:0,right:0,mt:3,mr:3,onClick:this.props.closeModal}),o.a.createElement(p.Flex,{flexDirection:"column",justifyContent:"space-between"},o.a.createElement(p.Flex,{justifyContent:"center",my:4},o.a.createElement(p.Icon,{name:"Warning",color:"gold",size:"40"})),o.a.createElement(p.Heading.h2,{my:3},"You can't continue without connecting your account"),o.a.createElement(p.Text,{my:4},"To use Pragma, you need to confirm the connection request. You can still browse as a guest."),o.a.createElement(p.Flex,{justifyContent:"flex-end",mt:4},o.a.createElement(p.OutlineButton,{onClick:this.props.closeModal,mr:4},"Browse as guest"),o.a.createElement(p.Button,{onClick:this.sendMessageAgain},"Send confirmation again")))))}}]),t}(o.a.Component),J=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={showQR:!1},n.toggleQRVisible=function(){n.setState({showQR:!n.state.showQR})},n.RightColumn=function(){return o.a.createElement(p.Flex,{flexDirection:"column",p:3},o.a.createElement(p.Flex,{justifyContent:"center",my:4},o.a.createElement(p.Icon,{name:"Warning",color:"gold",size:"40"})),o.a.createElement(p.Heading.h2,null,"Low Funds"),o.a.createElement(p.Text,{mb:4},"To use Pragms features, you'll need to own Ether. Deposit Ether into your account via your MetaMask extension or send Funds from another account."),o.a.createElement(p.PublicAddress,{address:n.props.account}),o.a.createElement(p.Box,{my:3},o.a.createElement(p.Text.span,{bold:!0,fontWeight:3,mr:3},"Got another account on a mobile wallet?"),o.a.createElement(p.Text.span,null,"Send funds by scanning your QR code with your wallet app.")),o.a.createElement(p.Box,{mb:4},o.a.createElement(p.OutlineButton,{onClick:n.toggleQRVisible},o.a.createElement(p.Flex,{alignItems:"center"},o.a.createElement(p.Icon,{name:"FilterCenterFocus",mr:2}),"Show account QR code"))),o.a.createElement(p.Flex,{justifyContent:"flex-end"},o.a.createElement(p.Box,null,o.a.createElement(p.Button,{onClick:n.props.closeModal},"Continue to Pragma"))))},n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return o.a.createElement(p.Modal,{isOpen:this.props.isOpen},o.a.createElement(p.Card,{p:5,maxWidth:"960px"},o.a.createElement(p.TextButton,{icononly:!0,icon:"Close",color:"moon-gray",position:"absolute",top:0,right:0,mt:3,mr:3,onClick:this.props.closeModal}),o.a.createElement(p.Flex,{justifyContent:"center",alignContent:"stretch"},o.a.createElement(p.Box,{width:"400px",flex:"1 1 auto"},o.a.createElement(p.Flex,{flexDirection:"column",alignContent:"center"},o.a.createElement(p.Box,null,o.a.createElement(p.Text,{color:w.colors.primary,caps:!0},"Current Network"),o.a.createElement(A,{network:this.props.currentNetwork})),o.a.createElement(p.Box,{my:4},o.a.createElement(p.Text,{color:w.colors.primary,caps:!0},"New to Ether?")),o.a.createElement(p.Text,{fontWeight:3},"What you'll need Ether for:"),o.a.createElement("ul",null,o.a.createElement("li",null,"Submitting your assets to lend"),o.a.createElement("li",null,"Get your assets and your interest back"),o.a.createElement("li",null,"Network fees")),o.a.createElement(p.Text,{fontWeight:3},"What are network fees?"),o.a.createElement(p.Text,null,"Network fees pay for a person or group to add a record of your action to the blockchain and let the network know. It doesn't go to us."))),o.a.createElement(p.Flex,{borderRight:1,borderColor:"#999",mx:3},o.a.createElement(p.Text,null)),this.state.showQR?o.a.createElement(p.Box,null,o.a.createElement(p.Flex,{justifyContent:"center"},o.a.createElement(p.QR,{value:this.props.account})),o.a.createElement(p.Text,null,this.props.account),o.a.createElement(p.OutlineButton,{onClick:this.toggleQRVisible},"Close QR")):this.RightColumn())))}}]),t}(o.a.Component),K=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(M,{closeModal:this.props.modals.methods.closeNoWeb3BrowserModal,isOpen:this.props.modals.data.noWeb3BrowserModalIsOpen,transaction:this.props.transaction}),o.a.createElement(B,{closeModal:this.props.modals.methods.closeNoWalletModal,isOpen:this.props.modals.data.noWalletModalIsOpen,transaction:this.props.transaction}),o.a.createElement(T,{closeModal:this.props.modals.methods.closeWrongNetworkModal,isOpen:this.props.modals.data.wrongNetworkModalIsOpen,network:this.props.network}),o.a.createElement(_,{closeModal:this.props.modals.methods.closeConnectionModal,validateAccount:this.props.validateAccount,isOpen:this.props.modals.data.connectionModalIsOpen&&!this.props.accountValidated,currentNetwork:this.props.network.current}),o.a.createElement(Y,{closeModal:this.props.modals.methods.closeTransactionConnectionModal,validateAccount:this.props.validateAccount,isOpen:this.props.modals.data.transactionConnectionModalIsOpen,currentNetwork:this.props.network.current}),o.a.createElement(Q,{closeModal:this.props.modals.methods.closeConnectionPendingModal,isOpen:this.props.modals.data.accountConnectionPending,currentNetwork:this.props.network.current}),o.a.createElement(G,{closeModal:this.props.modals.methods.closeUserRejectedConnectionModal,isOpen:this.props.modals.data.userRejectedConnect,initAccount:this.props.initAccount}),o.a.createElement(J,{closeModal:this.props.modals.methods.closeLowFundsModal,isOpen:this.props.modals.data.lowFundsModalIsOpen,currentNetwork:this.props.network.current,account:this.props.account}))}}]),t}(o.a.Component),$=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return o.a.createElement(p.Box,{style:{position:"fixed",bottom:0,left:0,right:0,width:"100%",backgroundColor:"white"},p:3},o.a.createElement(p.Flex,{alignItems:"center"},o.a.createElement(p.Box,{p:4},o.a.createElement(p.Icon,{name:"Warning",color:"gold",size:"30"})),o.a.createElement(p.Flex,{flexDirection:"column"},o.a.createElement(p.Text,{fontWeight:"bold"},"Looks like you're on the wrong network"),o.a.createElement(p.Text,null,"You should be on the ",this.props.network.required.name," Ethereum network. You are currently connected to the"," ",o.a.createElement(p.Text.span,{style:{textTransform:"capitalize"}},this.props.network.current.name)," ","Network - please switch to the correct network."))))}}]),t}(o.a.Component),X=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentWillReceiveProps",value:function(){this.setState({})}},{key:"render",value:function(){return o.a.createElement("div",null,!1===this.props.network.isCorrectNetwork&&this.props.web3?o.a.createElement($,{network:this.props.network}):null)}}]),t}(o.a.Component),Z=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null)}}]),t}(o.a.Component),ee=o.a.createContext({contract:{},account:{},accountBalance:{},accountBalanceLow:{},web3:{},web3Fallback:{},transactions:{},checkPreflight:function(){},initWeb3:function(){},initContract:function(){},initAccount:function(){},rejectAccountConnect:function(){},accountValidated:{},accountValidationPending:{},rejectValidation:function(){},validateAccount:function(){},connectAndValidateAccount:function(){},network:{required:{},current:{},isCorrectNetwork:null,checkNetwork:function(){}},modals:{data:{noWeb3BrowserModalIsOpen:{},noWalletModalIsOpen:{},connectionModalIsOpen:{},accountConnectionPending:{},userRejectedConnect:{},accountValidationPending:{},userRejectedValidation:{},wrongNetworkModalIsOpen:{},transactionConnectionModalIsOpen:{},lowFundsModalIsOpen:{}},methods:{openNoWeb3BrowserModal:function(){},closeNoWeb3BrowserModal:function(){},closeConnectionPendingModal:function(){},openConnectionPendingModal:function(){},closeUserRejectedConnectionModal:function(){},openUserRejectedConnectionModal:function(){},closeUserRejectedValidationModal:function(){},openUserRejectedValidationModal:function(){},closeWrongNetworkModal:function(){},openWrongNetworkModal:function(){},closeTransactionConnectionModal:function(){},openTransactionConnectionModal:function(){},closeLowFundsModal:function(){},openLowFundsModal:function(){}}},transaction:{data:{transactions:{}},meta:{},methods:{}}}),te=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).web3Preflight=function(){return!0},n.web3ActionPreflight=function(){return!0},n.checkModernBrowser=Object(v.a)(C.a.mark(function e(){var t,a,o;return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=j.a.getParser(window.navigator.userAgent),a=t.parse().parsedResult,o=!!t.satisfies({desktop:{chrome:">49",firefox:">52",opera:">36"}}),n.setState({userAgent:a,validBrowser:o}),e.abrupt("return",o);case 5:case"end":return e.stop()}},e)})),n.initWeb3=function(){var e=Object(v.a)(C.a.mark(function e(t,a){var o;return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n.checkModernBrowser(),t||(t={},window.ethereum?(console.log("Using modern web3 provider."),t=new f.a(window.ethereum)):window.web3?(console.log("Legacy web3 provider. Try updating."),t=new f.a(window.web3.currentProvider)):(console.log("Non-Ethereum browser detected. Using Infura fallback."),o=new f.a.providers.HttpProvider("https://rinkeby.infura.io/v3/db0b7b205b5a4889bd6ba73641c3fd6f"),t=new f.a(o),n.setState({web3Fallback:!0}))),n.setState({web3:t},Object(v.a)(C.a.mark(function e(){return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n.checkNetwork(),!a){e.next=4;break}return e.next=4,n.initAccount();case 4:case"end":return e.stop()}},e)}))),console.log("Finished initWeb3");case 4:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),n.initContract=function(){var e=Object(v.a)(C.a.mark(function e(t,a){return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("Init contract"),n.state.web3){e.next=5;break}return console.log("Awaiting web3"),e.next=5,n.initWeb3();case 5:n.createContract(t,a);case 6:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),n.createContract=function(){var e=Object(v.a)(C.a.mark(function e(t,a){var o;return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:console.log("creating contract",t,a);try{o=new n.state.web3.eth.Contract(a,t),n.setState({contract:o})}catch(r){console.log("Could not create contract."),window.toastProvider.addMessage("Contract creation failed.",{variant:"failure"})}case 2:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),n.initAccount=Object(v.a)(C.a.mark(function e(){return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.openConnectionPendingModal(),e.prev=1,e.next=4,n.state.web3.eth.getAccounts().then(function(e){var t=e[0];n.closeConnectionPendingModal(),n.setState({account:t}),console.log("wallet address:",n.state.account),n.getAccountBalance()});case 4:e.next=10;break;case 6:e.prev=6,e.t0=e.catch(1),console.log("User cancelled connect request. Error:",e.t0),n.rejectAccountConnect(e.t0);case 10:case"end":return e.stop()}},e,null,[[1,6]])})),n.rejectAccountConnect=function(e){var t=Object(E.a)({},n.state.modals);t.data.accountConnectionPending=!1,t.data.userRejectedConnect=!0,n.setState({modals:t})},n.getAccountBalance=Object(v.a)(C.a.mark(function e(){return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.state.web3.eth.getBalance(n.state.account).then(function(e){e=n.state.web3.utils.fromWei(e,"ether"),e=parseFloat(e),n.setState({accountBalance:e}),console.log("account balance: ",e),n.determineAccountLowBalance()});case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log("Failed to get account balance.");case 8:case"end":return e.stop()}},e,null,[[0,5]])})),n.determineAccountLowBalance=function(){var e="undefined"!==typeof n.props.config&&"undefined"!==typeof n.props.config.accountBalanceMinimum?n.props.config.accountBalanceMinimum:1,t=n.state.accountBalance<e;n.setState({accountBalanceLow:t})},n.connectAndValidateAccount=Object(v.a)(C.a.mark(function e(){return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n.web3ActionPreflight()){e.next=2;break}return e.abrupt("return");case 2:n.state.account||n.openConnectionModal();case 3:case"end":return e.stop()}},e)})),n.getRequiredNetwork=function(){var e="undefined"!==typeof n.props.config&&"undefined"!==typeof n.props.config.requiredNetwork?n.props.config.requiredNetwork:1,t="";switch(e){case 1:t="Main";break;case 3:t="Ropsten";break;case 4:t="Rinkeby";break;case 42:t="Kovan";break;default:t="unknown"}var a={name:t,id:e},o=Object(E.a)({},n.state.network);o.required=a,n.setState({network:o})},n.getNetworkId=Object(v.a)(C.a.mark(function e(){return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",n.state.web3.eth.net.getId(function(e,t){var a=Object(E.a)({},n.state.network.current);a.id=t;var o=Object(E.a)({},n.state.network);o.current=a,n.setState({network:o})}));case 4:e.prev=4,e.t0=e.catch(0),console.log("Could not get network ID: ",e.t0);case 7:case"end":return e.stop()}},e,null,[[0,4]])})),n.getNetworkName=Object(v.a)(C.a.mark(function e(){return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",n.state.web3.eth.net.getNetworkType(function(e,t){var a=Object(E.a)({},n.state.network.current);a.name=t;var o=Object(E.a)({},n.state.network);o.current=a,n.setState({network:o})}));case 4:e.prev=4,e.t0=e.catch(0),console.log("Could not get network Name: ",e.t0);case 7:case"end":return e.stop()}},e,null,[[0,4]])})),n.checkNetwork=Object(v.a)(C.a.mark(function e(){var t;return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.getRequiredNetwork(),e.next=3,n.getNetworkId();case 3:return e.next=5,n.getNetworkName();case 5:(t=Object(E.a)({},n.state.network)).isCorrectNetwork=n.state.network.current.id===n.state.network.required.id,n.setState({network:t});case 8:case"end":return e.stop()}},e)})),n.pollAccountUpdates=function(){var e=n.state.account,t=!1,a=setInterval(function(){n.state.modals.data.accountValidationPending||n.state.modals.data.accountConnectionPending||n.state.web3.eth.getAccounts().then(function(o){if(o[0]!==e&&(t=!0),t){clearInterval(a);var r=Object(E.a)({},n.state.modals);r.data.userRejectedConnect=null,n.setState({modals:r,account:"",accountValidated:null},function(){n.initAccount()})}})},1e3)},n.contractMethodSendWrapper=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(n.web3ActionPreflight())if(n.state.network.isCorrectNetwork)if(n.state.account)if(n.state.accountBalanceLow)n.openLowFundsModal();else{var o=n.createTransaction();n.addTransaction(o),o.method=e,o.type="contract",o.status="started",n.updateTransaction(o);var r=n.state,c=r.contract,s=r.account;try{var i;(i=c.methods)[e].apply(i,Object(x.a)(t)).send(a?{from:s,value:a}:{from:s}).on("transactionHash",function(e){o.transactionHash=e,o.status="pending",o.recentEvent="transactionHash",n.updateTransaction(o)}).on("confirmation",function(e,t){o.confirmationCount+=1;1===o.confirmationCount?o.status="confirmed":o.confirmationCount<2||(2===o.confirmationCount?t.status?o.status="success":t.status||(o.status="error"):o.confirmationCount),o.recentEvent="confirmation",n.updateTransaction(o)}).on("receipt",function(e){o.recentEvent="receipt",n.updateTransaction(o)}).on("error",function(e){o.status="error",o.recentEvent="error",n.updateTransaction(o),window.toastProvider.addMessage("Something went wrong",{secondaryMessage:"Please retry",actionHref:"",actionText:"",variant:"failure"})})}catch(l){o.status="error",n.updateTransaction(o),window.toastProvider.addMessage("Something went really wrong, we are sorry",{secondaryMessage:"Try refreshing the page :(",actionHref:"",actionText:"",variant:"failure"})}}else n.openTransactionConnectionModal();else n.state.modals.methods.openWrongNetworkModal()},n.createTransaction=function(){var e={};return e.created=Date.now(),e.lastUpdated=Date.now(),e.status="initialized",e.confirmationCount=0,e},n.addTransaction=function(e){var t=Object(E.a)({},n.state.transactions);t["tx".concat(e.created)]=e,n.setState({transactions:t})},n.updateTransaction=function(e){var t=Object(E.a)({},n.state.transactions),a=Object(E.a)({},e);a.lastUpdated=Date.now(),t["tx".concat(e.created)]=a,n.setState({transactions:t})},n.shortenHash=function(e){var t=e,n=t.substr(0,7),a=t.substr(t.length-4);return t=n+"..."+a},n.closeConnectionModal=function(e){"undefined"!==typeof e&&e.preventDefault();var t=Object(E.a)({},n.state.modals);t.data.connectionModalIsOpen=!1,console.log("this.state",n.state),n.setState({modals:t})},n.openConnectionModal=function(e){"undefined"!==typeof e&&e.preventDefault();var t=Object(E.a)({},n.state.modals);t.data.connectionModalIsOpen=!0,n.setState({modals:t})},n.closeConnectionPendingModal=function(e){"undefined"!==typeof e&&e.preventDefault();var t=Object(E.a)({},n.state.modals);t.data.accountConnectionPending=!1,n.setState({modals:t})},n.openConnectionPendingModal=function(e){"undefined"!==typeof e&&e.preventDefault();var t=Object(E.a)({},n.state.modals);t.data.accountConnectionPending=!0,t.data.transactionConnectionModalIsOpen=!1,t.data.connectionModalIsOpen=!1,n.setState({modals:t})},n.closeUserRejectedConnectionModal=function(e){"undefined"!==typeof e&&e.preventDefault();var t=Object(E.a)({},n.state.modals);t.data.userRejectedConnect=!1,n.setState({modals:t})},n.openUserRejectedConnectionModal=function(e){"undefined"!==typeof e&&e.preventDefault();var t=Object(E.a)({},n.state.modals);t.data.userRejectedConnect=!0,n.setState({modals:t})},n.closeNoWeb3BrowserModal=function(e){"undefined"!==typeof e&&e.preventDefault();var t=Object(E.a)({},n.state.modals);t.data.noWeb3BrowserModalIsOpen=!1,n.setState({modals:t})},n.openNoWeb3BrowserModal=function(e){"undefined"!==typeof e&&e.preventDefault();var t=Object(E.a)({},n.state.modals);t.data.noWeb3BrowserModalIsOpen=!0,n.setState({modals:t})},n.closeNoWalletModal=function(e){"undefined"!==typeof e&&e.preventDefault();var t=Object(E.a)({},n.state.modals);t.data.noWalletModalIsOpen=!1,n.setState({modals:t})},n.openNoWalletModal=function(e){"undefined"!==typeof e&&e.preventDefault();var t=Object(E.a)({},n.state.modals);t.data.noWalletModalIsOpen=!0,n.setState({modals:t})},n.closeWrongNetworkModal=function(e){"undefined"!==typeof e&&e.preventDefault();var t=Object(E.a)({},n.state.modals);t.data.wrongNetworkModalIsOpen=!1,n.setState({modals:t})},n.openWrongNetworkModal=function(e){"undefined"!==typeof e&&e.preventDefault();var t=Object(E.a)({},n.state.modals);t.data.wrongNetworkModalIsOpen=!0,n.setState({modals:t})},n.closeTransactionConnectionModal=function(e){"undefined"!==typeof e&&e.preventDefault();var t=Object(E.a)({},n.state.modals);t.data.transactionConnectionModalIsOpen=!1,n.setState({modals:t})},n.openTransactionConnectionModal=function(e){"undefined"!==typeof e&&e.preventDefault();var t=Object(E.a)({},n.state.modals);t.data.transactionConnectionModalIsOpen=!0,n.setState({modals:t})},n.closeLowFundsModal=function(e){"undefined"!==typeof e&&e.preventDefault();var t=Object(E.a)({},n.state.modals);t.data.lowFundsModalIsOpen=!1,n.setState({modals:t})},n.openLowFundsModal=function(e){"undefined"!==typeof e&&e.preventDefault();var t=Object(E.a)({},n.state.modals);t.data.lowFundsModalIsOpen=!0,n.setState({modals:t})},n.state={contract:{},account:null,accountBalance:null,accountBalanceLow:null,web3:null,web3Fallback:null,transactions:{},checkPreflight:n.checkPreflight,initWeb3:n.initWeb3,initContract:n.initContract,initAccount:n.initAccount,contractMethodSendWrapper:n.contractMethodSendWrapper,rejectAccountConnect:n.rejectAccountConnect,accountValidated:null,accountValidationPending:null,rejectValidation:n.rejectValidation,validateAccount:n.validateAccount,connectAndValidateAccount:n.connectAndValidateAccount,network:{required:{},current:{},isCorrectNetwork:null,checkNetwork:n.checkNetwork},modals:{data:{noWeb3BrowserModalIsOpen:n.noWeb3BrowserModalIsOpen,noWalletModalIsOpen:n.noWalletModalIsOpen,connectionModalIsOpen:null,accountConnectionPending:null,userRejectedConnect:null,accountValidationPending:null,userRejectedValidation:null,wrongNetworkModalIsOpen:null,transactionConnectionModalIsOpen:null,lowFundsModalIsOpen:null},methods:{openNoWeb3BrowserModal:n.openNoWeb3BrowserModal,closeNoWeb3BrowserModal:n.closeNoWeb3BrowserModal,openNoWalletModal:n.openNoWalletModal,closeNoWalletModal:n.closeNoWalletModal,closeConnectionModal:n.closeConnectionModal,openConnectionModal:n.openConnectionModal,closeConnectionPendingModal:n.closeConnectionPendingModal,openConnectionPendingModal:n.openConnectionPendingModal,closeUserRejectedConnectionModal:n.closeUserRejectedConnectionModal,openUserRejectedConnectionModal:n.openUserRejectedConnectionModal,closeUserRejectedValidationModal:n.closeUserRejectedValidationModal,openUserRejectedValidationModal:n.openUserRejectedValidationModal,closeWrongNetworkModal:n.closeWrongNetworkModal,openWrongNetworkModal:n.openWrongNetworkModal,closeTransactionConnectionModal:n.closeTransactionConnectionModal,openTransactionConnectionModal:n.openTransactionConnectionModal,closeLowFundsModal:n.closeLowFundsModal,openLowFundsModal:n.openLowFundsModal}},transaction:{data:{transactions:null},meta:{},methods:{}}},n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.context||{},t=e.library,n=e.account;this.initWeb3(t,n)}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(ee.Provider,Object.assign({value:this.state},this.props)),o.a.createElement(K,{initAccount:this.state.initAccount,account:this.state.account,validateAccount:this.state.validateAccount,accountConnectionPending:this.state.accountConnectionPending,accountValidationPending:this.state.accountValidationPending,accountValidated:this.state.accountValidated,network:this.state.network,modals:this.state.modals}),o.a.createElement(X,{network:this.state.network,web3:this.state.web3}),o.a.createElement(Z,{transaction:this.state.transaction}))}}]),t}(o.a.Component);te.Consumer=ee.Consumer;var ne=te,ae=n(350),oe=n.n(ae),re=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).shortenHash=function(e){var t=e,n=t.substr(0,7),a=t.substr(t.length-4);return t=n+"..."+a},n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.shortenHash(this.props.hash);return o.a.createElement(p.Text.span,null,e)}}]),t}(o.a.Component),ce=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).trimEth=function(e){return e=parseFloat(e),e*=1e4,e=Math.round(e),e=(e/=1e4).toFixed(4)},n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.trimEth(this.props.accountBalance);return o.a.createElement(p.Flex,{style:{cursor:"pointer"},alignItems:"flex-start",flexDirection:"column",my:2,mx:4,onClick:this.props.toggleModal},o.a.createElement(p.Text,{fontSize:2},"Connected to ",o.a.createElement(re,{hash:this.props.account})),o.a.createElement(p.Text,{fontSize:1,color:this.props.accountBalanceLow?"red":"#999"},"Balance: ",e," ETH"))}}]),t}(o.a.Component),se=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.account,n=e.accountBalance,a=e.network;return o.a.createElement(p.Modal,{isOpen:this.props.isOpen},o.a.createElement(p.Card,{p:5,maxWidth:"960px"},o.a.createElement(p.TextButton,{icononly:!0,icon:"Close",color:"moon-gray",position:"absolute",top:0,right:0,mt:3,mr:3,onClick:this.props.closeModal}),o.a.createElement(p.Flex,{justifyContent:"center",alignContent:"stretch"},o.a.createElement(p.Box,{width:"400px",flex:"1 1 auto"},o.a.createElement(p.Flex,{flexDirection:"column",alignContent:"center"},o.a.createElement(p.Box,null,o.a.createElement(p.Text,{color:w.colors.primary,caps:!0},"Current Network"),o.a.createElement(A,{network:a})),o.a.createElement(p.Box,{my:4},o.a.createElement(p.Text,{color:w.colors.primary,caps:!0},"New to Pragma?"),o.a.createElement(p.Text,{fontWeight:3,mt:3,mb:2},"What is connecting?"),o.a.createElement(p.Text,null,"Connecting lets you use Pragma"),o.a.createElement(p.Text,null,"Explore through your Ethereum account (the long cod that starts with 0x).")),o.a.createElement(p.Text,{fontWeight:3},"You need to be connected to:"),o.a.createElement("ul",null,o.a.createElement("li",null,"Lend ETH/ERC20 tokens"),o.a.createElement("li",null,"Get ETH/ERC20 tokens plus interest back")))),o.a.createElement(p.Flex,{borderRight:1,borderColor:"#999",mx:3},o.a.createElement(p.Text,null)),o.a.createElement(p.Flex,{flexDirection:"column",justifyContent:"space-between",p:3,flexShrink:"1"},o.a.createElement(p.Flex,{justifyContent:"center",my:4},o.a.createElement(p.Icon,{name:"Link",color:"#666",size:"40"})),o.a.createElement(p.Heading.h2,null,"Account overview"),o.a.createElement(p.Text,{my:3,fontSize:"2em"},n," ETH"),t&&o.a.createElement("div",null,o.a.createElement(p.QR,{value:t}),o.a.createElement(p.PublicAddress,{address:t}))))))}}]),t}(o.a.Component),ie=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={isOpen:!1},n.toggleModal=function(){n.setState(function(e){return Object(E.a)({},e,{isOpen:!e.isOpen})})},n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return o.a.createElement(p.Box,{style:{position:"absolute",left:"0",right:"0"}},o.a.createElement(p.Flex,{alignItems:"center",bg:"white"},o.a.createElement(p.Box,{ml:4,width:2/12,alignItems:"center"},o.a.createElement(p.Flex,{alignItems:"center"},o.a.createElement(p.Icon,{name:"AccountBalance",fontSize:3,color:"primary"}),o.a.createElement(p.Text,{fontSize:3,fontFamily:'"Roboto", "Helvetica", "Arial", sans-serif'},"Pragma"))),o.a.createElement(p.Box,{width:10/12,justifyContent:"flex-end"},o.a.createElement(p.Flex,{alignItems:"center",justifyContent:"flex-end"},o.a.createElement(p.Box,{mr:4},o.a.createElement(oe.a,{currentNetwork:this.props.network.current.id,requiredNetwork:this.props.network.required.id})),this.props.account?o.a.createElement(ce,{account:this.props.account,accountBalanceLow:this.props.accountBalanceLow,accountBalance:this.props.accountBalance,toggleModal:this.toggleModal}):o.a.createElement(p.Button,{m:3,onClick:this.props.connectAndValidateAccount,size:"small"},"Connect")))),o.a.createElement(se,{account:this.props.account,accountBalance:this.props.accountBalance,isOpen:this.state.isOpen,closeModal:this.toggleModal,network:this.props.network.current}))}}]),t}(o.a.Component),le=n(351),ue=n.n(le),de=(n(940),{started:{message:"Lending request submitted",secondaryMessage:"Confirm with your wallet provider",actionHref:"",actionText:"",variant:"default",icon:"InfoOutline"},pending:{message:"Processing lending request...",secondaryMessage:"This may take a few minutes",actionHref:"",actionText:"",variant:"processing"},confirmed:{message:"First block confirmed",secondaryMessage:"Your lending request is in progress",actionHref:"",actionText:"",variant:"processing"},success:{message:"Lending request completed",variant:"success"},error:{message:"Lending request failed",secondaryMessage:"Could not complete transaction.",actionHref:"",actionText:"",variant:"failure"}}),pe=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).collectionHasNewObject=function(e,t){return"undefined"===typeof e||Object.keys(e).length!==Object.keys(t).length},n.getNewObjectFromCollection=function(e,t){if("undefined"!==typeof e){var n=Object.keys(t).filter(function(t){return!Object.keys(e).includes(t)});return t[n]}return Object.keys(t).map(function(e){return t[e]})},n.getUpdatedObjectFromCollection=function(e,t){return Object.keys(e).map(function(n){return e[n].lastUpdated!==t[n].lastUpdated?t[n]:null}).filter(function(e){return null!==e})[0]},n.getTransactionFromCollection=function(e,t){return t["tx".concat(e)]},n.getUpdatedTransaction=function(e,t){var a=null,o={},r={};return n.collectionHasNewObject(e,t)?a=n.getNewObjectFromCollection(e,t):(o=n.getUpdatedObjectFromCollection(e,t),r=n.getTransactionFromCollection(o.created,e),o.status!==r.status&&(a=o)),a},n.processTransactionUpdates=function(e){var t=null;Object.keys(n.props.transactions).length&&(t=n.getUpdatedTransaction(e.transactions,n.props.transactions)),null!==t&&"undefined"!==typeof t&&n.showTransactionToast(t)},n.showTransactionToast=function(e){var t=n.getTransactionToastMeta(e);window.toastProvider.addMessage(".",t)},n.getTransactionToastMeta=function(e){var t={};switch(e.status){case"started":t=de.started;break;case"pending":t=de.pending;break;case"confirmed":t=de.confirmed;break;case"success":t=de.success;break;case"error":t=de.error}return t},n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidUpdate",value:function(e,t){this.processTransactionUpdates(e)}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(p.ToastMessage.Provider,{ref:function(e){return window.toastProvider=e}}))}}]),t}(o.a.Component),me=n(129),fe=n.n(me),be=[{constant:!0,inputs:[],name:"name",outputs:[{name:"",type:"string"}],payable:!1,signature:"0x06fdde03",stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],name:"approve",outputs:[{name:"",type:"bool"}],payable:!1,signature:"0x095ea7b3",stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"reserveFactorMantissa",outputs:[{name:"",type:"uint256"}],payable:!1,signature:"0x173b9904",stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"account",type:"address"}],name:"borrowBalanceCurrent",outputs:[{name:"",type:"uint256"}],payable:!1,signature:"0x17bfdfbc",stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"totalSupply",outputs:[{name:"",type:"uint256"}],payable:!1,signature:"0x18160ddd",stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"exchangeRateStored",outputs:[{name:"",type:"uint256"}],payable:!1,signature:"0x182df0f5",stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"src",type:"address"},{name:"dst",type:"address"},{name:"amount",type:"uint256"}],name:"transferFrom",outputs:[{name:"",type:"bool"}],payable:!1,signature:"0x23b872dd",stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"pendingAdmin",outputs:[{name:"",type:"address"}],payable:!1,signature:"0x26782247",stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"decimals",outputs:[{name:"",type:"uint256"}],payable:!1,signature:"0x313ce567",stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"owner",type:"address"}],name:"balanceOfUnderlying",outputs:[{name:"",type:"uint256"}],payable:!1,signature:"0x3af9e669",stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"getCash",outputs:[{name:"",type:"uint256"}],payable:!1,signature:"0x3b1d21a2",stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"newComptroller",type:"address"}],name:"_setComptroller",outputs:[{name:"",type:"uint256"}],payable:!1,signature:"0x4576b5db",stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"totalBorrows",outputs:[{name:"",type:"uint256"}],payable:!1,signature:"0x47bd3718",stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"comptroller",outputs:[{name:"",type:"address"}],payable:!1,signature:"0x5fe3b567",stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"reduceAmount",type:"uint256"}],name:"_reduceReserves",outputs:[{name:"",type:"uint256"}],payable:!1,signature:"0x601a0bf1",stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"initialExchangeRateMantissa",outputs:[{name:"",type:"uint256"}],payable:!1,signature:"0x675d972c",stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"accrualBlockNumber",outputs:[{name:"",type:"uint256"}],payable:!1,signature:"0x6c540baf",stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"owner",type:"address"}],name:"balanceOf",outputs:[{name:"",type:"uint256"}],payable:!1,signature:"0x70a08231",stateMutability:"view",type:"function"},{constant:!1,inputs:[],name:"totalBorrowsCurrent",outputs:[{name:"",type:"uint256"}],payable:!1,signature:"0x73acee98",stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"totalReserves",outputs:[{name:"",type:"uint256"}],payable:!1,signature:"0x8f840ddd",stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"symbol",outputs:[{name:"",type:"string"}],payable:!1,signature:"0x95d89b41",stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"account",type:"address"}],name:"borrowBalanceStored",outputs:[{name:"",type:"uint256"}],payable:!1,signature:"0x95dd9193",stateMutability:"view",type:"function"},{constant:!1,inputs:[],name:"accrueInterest",outputs:[{name:"",type:"uint256"}],payable:!1,signature:"0xa6afed95",stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"dst",type:"address"},{name:"amount",type:"uint256"}],name:"transfer",outputs:[{name:"",type:"bool"}],payable:!1,signature:"0xa9059cbb",stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"borrowIndex",outputs:[{name:"",type:"uint256"}],payable:!1,signature:"0xaa5af0fd",stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"supplyRatePerBlock",outputs:[{name:"",type:"uint256"}],payable:!1,signature:"0xae9d70b0",stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"liquidator",type:"address"},{name:"borrower",type:"address"},{name:"seizeTokens",type:"uint256"}],name:"seize",outputs:[{name:"",type:"uint256"}],payable:!1,signature:"0xb2a02ff1",stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"newPendingAdmin",type:"address"}],name:"_setPendingAdmin",outputs:[{name:"",type:"uint256"}],payable:!1,signature:"0xb71d1a0c",stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[],name:"exchangeRateCurrent",outputs:[{name:"",type:"uint256"}],payable:!1,signature:"0xbd6d894d",stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"account",type:"address"}],name:"getAccountSnapshot",outputs:[{name:"",type:"uint256"},{name:"",type:"uint256"},{name:"",type:"uint256"},{name:"",type:"uint256"}],payable:!1,signature:"0xc37f68e2",stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"owner",type:"address"},{name:"spender",type:"address"}],name:"allowance",outputs:[{name:"",type:"uint256"}],payable:!1,signature:"0xdd62ed3e",stateMutability:"view",type:"function"},{constant:!1,inputs:[],name:"_acceptAdmin",outputs:[{name:"",type:"uint256"}],payable:!1,signature:"0xe9c714f2",stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"newInterestRateModel",type:"address"}],name:"_setInterestRateModel",outputs:[{name:"",type:"uint256"}],payable:!1,signature:"0xf2b3abbd",stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"interestRateModel",outputs:[{name:"",type:"address"}],payable:!1,signature:"0xf3fdb15a",stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"admin",outputs:[{name:"",type:"address"}],payable:!1,signature:"0xf851a440",stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"borrowRatePerBlock",outputs:[{name:"",type:"uint256"}],payable:!1,signature:"0xf8f9da28",stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"newReserveFactorMantissa",type:"uint256"}],name:"_setReserveFactor",outputs:[{name:"",type:"uint256"}],payable:!1,signature:"0xfca7820b",stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"isCToken",outputs:[{name:"",type:"bool"}],payable:!1,signature:"0xfe9c44ae",stateMutability:"view",type:"function"},{inputs:[{name:"comptroller_",type:"address"},{name:"interestRateModel_",type:"address"},{name:"initialExchangeRateMantissa_",type:"uint256"},{name:"name_",type:"string"},{name:"symbol_",type:"string"},{name:"decimals_",type:"uint256"}],payable:!1,signature:"constructor",stateMutability:"nonpayable",type:"constructor"},{payable:!0,stateMutability:"payable",type:"fallback"},{anonymous:!1,inputs:[{indexed:!1,name:"interestAccumulated",type:"uint256"},{indexed:!1,name:"borrowIndex",type:"uint256"},{indexed:!1,name:"totalBorrows",type:"uint256"}],name:"AccrueInterest",signature:"0x875352fb3fadeb8c0be7cbbe8ff761b308fa7033470cd0287f02f3436fd76cb9",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"minter",type:"address"},{indexed:!1,name:"mintAmount",type:"uint256"},{indexed:!1,name:"mintTokens",type:"uint256"}],name:"Mint",signature:"0x4c209b5fc8ad50758f13e2e1088ba56a560dff690a1c6fef26394f4c03821c4f",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"redeemer",type:"address"},{indexed:!1,name:"redeemAmount",type:"uint256"},{indexed:!1,name:"redeemTokens",type:"uint256"}],name:"Redeem",signature:"0xe5b754fb1abb7f01b499791d0b820ae3b6af3424ac1c59768edb53f4ec31a929",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"borrower",type:"address"},{indexed:!1,name:"borrowAmount",type:"uint256"},{indexed:!1,name:"accountBorrows",type:"uint256"},{indexed:!1,name:"totalBorrows",type:"uint256"}],name:"Borrow",signature:"0x13ed6866d4e1ee6da46f845c46d7e54120883d75c5ea9a2dacc1c4ca8984ab80",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"payer",type:"address"},{indexed:!1,name:"borrower",type:"address"},{indexed:!1,name:"repayAmount",type:"uint256"},{indexed:!1,name:"accountBorrows",type:"uint256"},{indexed:!1,name:"totalBorrows",type:"uint256"}],name:"RepayBorrow",signature:"0x1a2a22cb034d26d1854bdc6666a5b91fe25efbbb5dcad3b0355478d6f5c362a1",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"liquidator",type:"address"},{indexed:!1,name:"borrower",type:"address"},{indexed:!1,name:"repayAmount",type:"uint256"},{indexed:!1,name:"cTokenCollateral",type:"address"},{indexed:!1,name:"seizeTokens",type:"uint256"}],name:"LiquidateBorrow",signature:"0x298637f684da70674f26509b10f07ec2fbc77a335ab1e7d6215a4b2484d8bb52",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"oldPendingAdmin",type:"address"},{indexed:!1,name:"newPendingAdmin",type:"address"}],name:"NewPendingAdmin",signature:"0xca4f2f25d0898edd99413412fb94012f9e54ec8142f9b093e7720646a95b16a9",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"oldAdmin",type:"address"},{indexed:!1,name:"newAdmin",type:"address"}],name:"NewAdmin",signature:"0xf9ffabca9c8276e99321725bcb43fb076a6c66a54b7f21c4e8146d8519b417dc",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"oldComptroller",type:"address"},{indexed:!1,name:"newComptroller",type:"address"}],name:"NewComptroller",signature:"0x7ac369dbd14fa5ea3f473ed67cc9d598964a77501540ba6751eb0b3decf5870d",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"oldInterestRateModel",type:"address"},{indexed:!1,name:"newInterestRateModel",type:"address"}],name:"NewMarketInterestRateModel",signature:"0xedffc32e068c7c95dfd4bdfd5c4d939a084d6b11c4199eac8436ed234d72f926",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"oldReserveFactorMantissa",type:"uint256"},{indexed:!1,name:"newReserveFactorMantissa",type:"uint256"}],name:"NewReserveFactor",signature:"0xaaa68312e2ea9d50e16af5068410ab56e1a1fd06037b1a35664812c30f821460",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"admin",type:"address"},{indexed:!1,name:"reduceAmount",type:"uint256"},{indexed:!1,name:"newTotalReserves",type:"uint256"}],name:"ReservesReduced",signature:"0x3bad0c59cf2f06e7314077049f48a93578cd16f5ef92329f1dab1420a99c177e",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"error",type:"uint256"},{indexed:!1,name:"info",type:"uint256"},{indexed:!1,name:"detail",type:"uint256"}],name:"Failure",signature:"0x45b96fe442630264581b197e84bbada861235052c5a1aadfff9ea4e40a969aa0",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"amount",type:"uint256"}],name:"Transfer",signature:"0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"amount",type:"uint256"}],name:"Approval",signature:"0x8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925",type:"event"},{constant:!1,inputs:[],name:"mint",outputs:[],payable:!0,signature:"0x1249c58b",stateMutability:"payable",type:"function"},{constant:!1,inputs:[{name:"redeemTokens",type:"uint256"}],name:"redeem",outputs:[{name:"",type:"uint256"}],payable:!1,signature:"0xdb006a75",stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"redeemAmount",type:"uint256"}],name:"redeemUnderlying",outputs:[{name:"",type:"uint256"}],payable:!1,signature:"0x852a12e3",stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"borrowAmount",type:"uint256"}],name:"borrow",outputs:[{name:"",type:"uint256"}],payable:!1,signature:"0xc5ebeaec",stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[],name:"repayBorrow",outputs:[],payable:!0,signature:"0x4e4d9fea",stateMutability:"payable",type:"function"},{constant:!1,inputs:[{name:"borrower",type:"address"}],name:"repayBorrowBehalf",outputs:[],payable:!0,signature:"0xe5974619",stateMutability:"payable",type:"function"},{constant:!1,inputs:[{name:"borrower",type:"address"},{name:"cTokenCollateral",type:"address"}],name:"liquidateBorrow",outputs:[],payable:!0,signature:"0xaae40a2a",stateMutability:"payable",type:"function"}],he=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={value:0,lendAmount:0,needsUpdate:!1},n.trimEth=function(e){return e=parseFloat(e),e*=1e6,e=Math.round(e),e=(e/=1e6).toFixed(6)},n.BNify=function(e){return new fe.a(String(e))},n.getSupplyRatePerBlock=Object(v.a)(C.a.mark(function e(){var t,a;return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.genericCall("supplyRatePerBlock");case 2:return(t=e.sent)&&(a=n.props.web3,t=n.BNify(t).times("2102666.66667").times("100").integerValue(fe.a.ROUND_FLOOR),t=a.utils.fromWei(t.toString(),"ether"),n.setState({supplyRatePerBlock:t,value:(+t).toFixed(2),needsUpdate:!1})),e.abrupt("return",t);case 5:case"end":return e.stop()}},e)})),n.getExchangeRateCurrent=Object(v.a)(C.a.mark(function e(){var t;return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.genericCall("exchangeRateCurrent");case 2:return(t=e.sent)&&(t=n.props.web3.utils.fromWei(t.toString(),"ether"),n.state.supplyRatePerBlock&&console.log(n.BNify(n.state.supplyRatePerBlock).times(n.BNify(t)).toString()),n.setState({exchangeRateCurrent:t,needsUpdate:!1})),e.abrupt("return",t);case 5:case"end":return e.stop()}},e)})),n.getBalanceOf=Object(v.a)(C.a.mark(function e(){var t,a;return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.genericCall("balanceOf",[n.props.account]);case 2:return(t=e.sent)&&(t=n.props.web3.utils.fromWei(t.toString(),"ether"),a=n.BNify(t).times(n.BNify(n.state.exchangeRateCurrent)).toString(),n.setState({balanceOf:t,ethToReedem:a,needsUpdate:!1})),e.abrupt("return",t);case 5:case"end":return e.stop()}},e)})),n.getAssetsIn=Object(v.a)(C.a.mark(function e(){var t;return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.genericComptrollerContractCall("getAssetsIn",[n.props.account]);case 2:return(t=e.sent)&&n.setState({assetsIn:t,needsUpdate:!1}),e.abrupt("return",t);case 5:case"end":return e.stop()}},e)})),n.getAccountLiquidity=Object(v.a)(C.a.mark(function e(){var t;return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.genericComptrollerContractCall("getAccountLiquidity",[n.props.account]);case 2:return(t=e.sent)&&n.setState({accountLiquidity:t,needsUpdate:!1}),e.abrupt("return",t);case 5:case"end":return e.stop()}},e)})),n.genericCall=function(){var e=Object(v.a)(C.a.mark(function e(t){var a,o,r,c=arguments;return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=c.length>1&&void 0!==c[1]?c[1]:[],e.next=3,(a=n.props.contract.methods)[t].apply(a,Object(x.a)(o)).call().catch(function(e){console.log("".concat(t," error: "),e),n.setState({error:e})});case 3:return r=e.sent,console.log("".concat(t," value: "),r,r.toString()),e.abrupt("return",r);case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),n.processTransactionUpdates=function(e){Object.keys(n.props.transactions).map(function(){var e=Object(v.a)(C.a.mark(function e(t){var a;return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("success"!==n.props.transactions[t].status||!n.state.needsUpdate){e.next=10;break}return console.log("Getting updated balance in acc and in cTokens."),e.next=5,n.getBalanceOf();case 5:return(a=e.sent)&&"0"!==a&&(n.getAssetsIn(),n.getAccountLiquidity()),e.abrupt("return",!1);case 10:return e.abrupt("return",!1);case 11:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}())},n.mint=function(){var e=n.props.web3.utils.toWei(n.state.lendAmount.toString(),"ether");n.props.contractMethodSendWrapper("mint",[],e),n.setState({needsUpdate:!0})},n.redeem=function(){var e=n.props.web3.utils.toWei(n.state.balanceOf.toString(),"ether");n.props.contractMethodSendWrapper("redeem",[e]),n.setState({needsUpdate:!0})},n.handleChangeAmount=function(e){n.setState({lendAmount:e.target.value})},n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=Object(v.a)(C.a.mark(function e(){var t=this;return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.props.initContract("0xbed6d9490a7cd81ff0f06f29189160a9641a358f",be).then(Object(v.a)(C.a.mark(function e(){return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.getSupplyRatePerBlock(),t.getExchangeRateCurrent(),!t.props.account){e.next=5;break}return e.next=5,t.getBalanceOf();case 5:case"end":return e.stop()}},e)})));case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=Object(v.a)(C.a.mark(function e(t,n){return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.props.account||t.account===this.props.account){e.next=3;break}return e.next=3,this.getBalanceOf();case 3:this.processTransactionUpdates(t);case 4:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"render",value:function(){return o.a.createElement(p.Box,null,o.a.createElement(p.Box,{py:4},o.a.createElement(p.Text,{fontSize:6,textAlign:"center"},"Earn ~",this.state.value," % APR"),o.a.createElement(p.Text,{fontSize:3,textAlign:"center"},"on your ETH")),o.a.createElement(p.Form,{onSubmit:this.handleSubmit,pb:4},o.a.createElement(p.Flex,null,o.a.createElement(p.Box,{width:.75},o.a.createElement(p.Form.Input,{required:!0,placeholder:"Enter Amount",type:"text",width:1,onChange:this.handleChangeAmount})),o.a.createElement(p.Box,{width:.25},o.a.createElement(p.Button,{icon:"Send",size:"medium",mr:4,onClick:this.mint},"Lend ETH")))),this.state.balanceOf&&"0"!==this.state.balanceOf&&o.a.createElement(p.Box,{py:4,borderTop:1,borderColor:"#E8E8E8"},o.a.createElement(p.Text,{fontSize:6,textAlign:"center"},"Redeem ~",this.trimEth(this.state.ethToReedem)," ETH"),o.a.createElement(p.Flex,{justifyContent:"center",pt:2},o.a.createElement(p.Button,{icon:"AccountBalanceWallet",size:"medium",onClick:this.redeem},"Withdraw"))))}}]),t}(o.a.Component),ye=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return o.a.createElement(ne.Consumer,null,function(e){var t=e.contract,n=e.account,a=e.transactions,r=e.initContract,c=(e.initAccount,e.contractMethodSendWrapper),s=e.web3;return o.a.createElement(p.Card,{width:"50em",mx:"auto",px:4},o.a.createElement(he,{web3:s,contract:t,account:n,transactions:a,initContract:r,contractMethodSendWrapper:c}),o.a.createElement(pe,{transactions:a}))})}}]),t}(a.Component),ge=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={contract:null,genericError:null},n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.network,t=this.state.genericError;return o.a.createElement(p.Box,{style:{paddingBottom:e.isCorrectNetwork?"0":"8em"}},o.a.createElement("div",null,o.a.createElement("header",{className:[ue.a.header]},o.a.createElement(p.Box,{width:"50em",mx:"auto",px:4,pb:3},o.a.createElement(p.Heading.h1,{style:{color:"white"},fontFamily:'"Roboto", "Helvetica", "Arial", sans-serif',textAlign:"center"},"Trustless lending made easy"),o.a.createElement(p.Heading.h2,{style:{color:"white"},fontFamily:'"Roboto", "Helvetica", "Arial", sans-serif',fontWeight:"300",textAlign:"center"},"Lend assets and earn passive income")),o.a.createElement(ye,null),t&&o.a.createElement("p",null,t))))}}]),t}(a.Component),we=function(e){return o.a.createElement(p.Box,{mt:4,borderTop:1,borderColor:"#E8E8E8",pt:3},o.a.createElement(p.Heading.h4,{textAlign:"center"},"Show Modal"),o.a.createElement(p.Button,{onClick:e.modals.methods.openWrongNetworkModal,size:"small",mr:2,mb:2},"Blocking Wrong Network"),o.a.createElement(p.Button,{onClick:e.modals.methods.openConnectionModal,size:"small",mr:2,mb:2},"Connection"),o.a.createElement(p.Button,{size:"small",onClick:e.modals.methods.openConnectionPendingModal,mr:2,mb:2},"Connection Pending"),o.a.createElement(p.Button,{size:"small",onClick:e.modals.methods.openUserRejectedConnectionModal,mr:2,mb:2},"Connection Rejected"),o.a.createElement(p.Button,{size:"small",onClick:e.modals.methods.openTransactionConnectionModal,mr:2,mb:2},"Transaction Connection"),o.a.createElement(p.Button,{size:"small",onClick:function(t){e.modals.methods.openLowFundsModal(t)},mr:2,mb:2},"Low Funds"),o.a.createElement(p.Button,{size:"small",onClick:e.modals.methods.openNoWeb3BrowserModal,mr:2,mb:2},"Not Web3 Browser"),o.a.createElement(p.Button,{size:"small",onClick:e.modals.methods.openNoWalletModal,mr:2,mb:2},"No Wallet"))},xe=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return o.a.createElement(p.Card,{width:"600px",mx:"auto",px:4},o.a.createElement(p.Heading.h3,{textAlign:"center"},"Get Connected"),o.a.createElement(p.Box,null,o.a.createElement(p.Flex,{alignItems:"center"},this.props.validBrowser?o.a.createElement(p.Icon,{name:"Check",color:"green",mr:2}):o.a.createElement(p.Icon,{name:"Close",color:"red",mr:2}),o.a.createElement(p.Text,null,"Modern & Web3 Capable Browser")),this.props.validBrowser?null:o.a.createElement(p.Flex,{ml:4,alignItems:"center",justifyContent:"space-between"},o.a.createElement(p.Flex,{alignItems:"center"},o.a.createElement(p.Icon,{name:"Info",mr:2,color:"#999"}),o.a.createElement(p.Text,{color:"#999"},"You current browser is not web3 capable.")),o.a.createElement(p.Link,{href:"https://www.google.com/chrome/browser/",target:"_blank"},o.a.createElement(p.OutlineButton,{size:"small"},"Download Chrome")))),o.a.createElement(p.Box,null,o.a.createElement(p.Flex,{alignItems:"center"},this.props.web3?o.a.createElement(p.Icon,{name:"Check",color:"green",mr:2}):o.a.createElement(p.Icon,{name:"Close",color:"red",mr:2}),o.a.createElement(p.Text,null,"Browser-connected Wallet")),!this.props.web3&&this.props.validBrowser?o.a.createElement(p.Flex,{ml:4,alignItems:"center",justifyContent:"space-between"},o.a.createElement(p.Flex,{alignItems:"center"},o.a.createElement(p.Icon,{name:"Info",mr:2,color:"#999"}),o.a.createElement(p.Text,{color:"#999"},"You do not have a wallet.")),o.a.createElement(p.Link,{href:"https://chrome.google.com/webstore/detail/metamask/nkbihfbeogaeaoehlefnkodbefgpgknn?hl=en",target:"_blank"},o.a.createElement(p.OutlineButton,{size:"small"},"Get MetaMask Extension"))):null),this.props.web3?o.a.createElement(p.Flex,{py:3,my:3,borderTop:1,borderBottom:1,borderColor:"#E8E8E8",textAlign:"center",justifyContent:"space-around",alignItems:"center"},o.a.createElement(p.Button,{size:"small",onClick:this.props.connectAndValidateAccount,disabled:!this.props.web3},"Connect and verify"),o.a.createElement(p.Text,null,"- or -"),o.a.createElement(p.Button,{size:"small",disabled:!0},"Initiate On-Chain Action")):null,o.a.createElement(p.Box,null,o.a.createElement(p.Flex,{alignItems:"center"},this.props.network.isCorrectNetwork?o.a.createElement(p.Icon,{name:"Check",color:"green",mr:2}):o.a.createElement(p.Icon,{name:"Close",color:"red",mr:2}),o.a.createElement(p.Text,null,"Correct Network")),this.props.web3&&!this.props.network.isCorrectNetwork?o.a.createElement(p.Flex,{ml:4,alignItems:"center",justifyContent:"space-between"},o.a.createElement(p.Flex,{alignItems:"center"},o.a.createElement(p.Icon,{name:"Info",mr:2,color:"#999"}),o.a.createElement(p.Box,null,o.a.createElement(p.Flex,{alignItems:"center"},o.a.createElement(p.Text,{mr:2,color:"#999",style:{textTransform:"capitalize"}},"Current network:"),o.a.createElement(A,{network:this.props.network.current})),o.a.createElement(p.Flex,{alignItems:"center"},o.a.createElement(p.Text,{mr:2,color:"#999",style:{textTransform:"capitalize"}},"Required network:"),o.a.createElement(A,{network:this.props.network.required})))),o.a.createElement(p.OutlineButton,{size:"small",onClick:this.props.checkNetwork},"Check Network")):null,this.props.web3&&this.props.isCorrectNetwork?o.a.createElement(p.Flex,{ml:4,alignItems:"center"},o.a.createElement(A,{network:this.props.network.current})):null),o.a.createElement(p.Box,null,o.a.createElement(p.Flex,{alignItems:"center"},this.props.account&&this.props.accountValidated?o.a.createElement(p.Icon,{name:"Check",color:"green",mr:2}):o.a.createElement(p.Icon,{name:"Close",color:"red",mr:2}),o.a.createElement(p.Text,null,"Wallet connected and verified")),this.props.account||!this.props.web3||this.props.userRejectedConnect?null:o.a.createElement(p.Flex,{ml:4,alignItems:"center",justifyContent:"space-between"},o.a.createElement(p.Flex,{alignItems:"center"},o.a.createElement(p.Icon,{name:"Info",mr:2,color:"#999"}),o.a.createElement(p.Text,{color:"#999"},"Not connected to this dApp.")),o.a.createElement(p.OutlineButton,{size:"small",onClick:this.props.initAccount},"Connect")),this.props.account&&this.props.web3?o.a.createElement(p.Flex,{ml:4,alignItems:"center"},o.a.createElement(p.Icon,{name:"Check",color:"green",mr:2}),o.a.createElement(p.Box,null,o.a.createElement(p.Text,{color:"#999"},"Connected wallet ",this.props.account),o.a.createElement(p.Text,{color:this.props.accountBalanceLow?"red":"#999"},"Account balance ",this.props.accountBalance))):null,this.props.userRejectedConnect?o.a.createElement(p.Flex,{ml:4,justifyContent:"space-between"},o.a.createElement(p.Flex,{alignItems:"center"},o.a.createElement(p.Icon,{name:"Error",mr:2,color:"red"}),o.a.createElement(p.Text,{color:"red"},"User rejected Connect request")),o.a.createElement(p.OutlineButton,{size:"small",onClick:this.props.initAccount},"Connect")):null,null!==this.props.accountValidated&&!1!==this.props.accountValidated||!this.props.web3?null:o.a.createElement(p.Flex,{ml:4,my:1,alignItems:"center",justifyContent:"space-between"},o.a.createElement(p.Flex,{alignItems:"center"},o.a.createElement(p.Icon,{name:"Info",mr:2,color:"#999"}),o.a.createElement(p.Text,{color:"#999"},"Account not verified")),o.a.createElement(p.OutlineButton,{size:"small",onClick:this.props.validateAccount},"Validate")),!1===this.props.accountValidated?o.a.createElement(p.Flex,{ml:4,my:1,alignItems:"center",justifyContent:"space-between"},o.a.createElement(p.Flex,{alignItems:"center"},o.a.createElement(p.Icon,{name:"Error",mr:2,color:"red"}),o.a.createElement(p.Text,{color:"red"},"Account not verified")),o.a.createElement(p.OutlineButton,{size:"small",onClick:this.props.validateAccount},"Validate")):null,!1===this.props.userRejectedValidation?o.a.createElement(p.Flex,{ml:4},o.a.createElement(p.Icon,{name:"Error",mr:2,color:"red"}),o.a.createElement(p.Text,{color:"red"},"Account not verified")):null),o.a.createElement(we,this.props),o.a.createElement(p.ToastMessage.Provider,{ref:function(e){return window.toastProvider=e}}))}}]),t}(o.a.Component),Ee=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={genericError:null,route:"default"},n.config={accountBalanceMinimum:1e-4,requiredNetwork:4},n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"showRoute",value:function(e){this.setState({route:e})}},{key:"render",value:function(){var e=this;return o.a.createElement(h.a,{connectors:H,libraryName:"web3.js",web3Api:f.a},o.a.createElement(b.Web3Consumer,null,function(t){return o.a.createElement(p.ThemeProvider,{theme:w,className:"App"},o.a.createElement(ne,{config:e.config,context:t},o.a.createElement(ne.Consumer,null,function(t){t.needsPreflight;var n=t.validBrowser,a=t.userAgent,r=t.web3,c=t.account,s=t.accountBalance,i=t.accountBalanceLow,l=t.initAccount,u=t.rejectAccountConnect,d=t.userRejectedConnect,m=t.accountValidated,f=t.accountValidationPending,b=t.rejectValidation,h=t.userRejectedValidation,y=t.validateAccount,w=t.connectAndValidateAccount,x=t.modals,E=t.network,k=t.transaction;return o.a.createElement("div",{className:[g.a.main]},o.a.createElement(ie,{account:c,accountBalance:s,accountBalanceLow:i,initAccount:l,rejectAccountConnect:u,userRejectedConnect:d,accountValidated:m,accountValidationPending:f,rejectValidation:b,userRejectedValidation:h,validateAccount:y,connectAndValidateAccount:w,modals:x,network:E}),"onboarding"===e.state.route?o.a.createElement(xe,{validBrowser:n,userAgent:a,web3:r,account:c,accountBalance:s,accountBalanceLow:i,initAccount:l,rejectAccountConnect:u,userRejectedConnect:d,accountValidated:m,accountValidationPending:f,rejectValidation:b,userRejectedValidation:h,validateAccount:y,connectAndValidateAccount:w,modals:x,network:E,transaction:k}):null,"default"===e.state.route?o.a.createElement(ge,{web3:r,account:c,accountBalance:s,accountBalanceLow:i,network:E}):null,o.a.createElement(p.ToastMessage.Provider,{ref:function(e){return window.toastProvider=e}}))})))}))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement(Ee,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[353,2,1]]]);
//# sourceMappingURL=main.87ca2e3e.chunk.js.map